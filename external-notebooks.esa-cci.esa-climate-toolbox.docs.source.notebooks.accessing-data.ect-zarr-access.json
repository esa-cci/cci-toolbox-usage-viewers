{"version":3,"kind":"Notebook","sha256":"ef82525320865e6276c181c62d8d2fa927274de6d3a5fed1ca272e177667970d","slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-zarr-access","location":"/external_notebooks/esa-cci/esa-climate-toolbox/docs/source/notebooks/Accessing_Data/5-ECT_Zarr_Access.ipynb","dependencies":[],"frontmatter":{"title":"Access to Zarr Data","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"github":"https://github.com/esa-cci/cci-notebook-viewers","subject":"CCI Examples","numbering":{"title":{"offset":5}},"source_url":"https://github.com/esa-cci/cci-notebook-viewers/blob/main/external_notebooks/esa-cci/esa-climate-toolbox/docs/source/notebooks/Accessing_Data/5-ECT_Zarr_Access.ipynb","edit_url":"https://github.com/esa-cci/cci-notebook-viewers/edit/main/external_notebooks/esa-cci/esa-climate-toolbox/docs/source/notebooks/Accessing_Data/5-ECT_Zarr_Access.ipynb","exports":[{"format":"ipynb","filename":"5-ECT_Zarr_Access.ipynb","url":"/cci-toolbox-usage-viewers/build/5-ECT_Zarr_Access-ad876b61e4810bb33b0aeb3d063e1136.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access to Zarr Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pA80xFtIct"}],"identifier":"access-to-zarr-data","label":"Access to Zarr Data","html_id":"access-to-zarr-data","implicit":true,"key":"h4O1fjUGsq"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Some datasets from the Open Data Portal have been migrated to the Zarr format. This allows for faster opening and processing, so it makes sense to check whether data is provided in the Zarr format first.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IC2SDEjXfc"}],"key":"A66semZmij"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The data is available via store abbreviation ‘cci-zarr-store’.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tHIozPf4wi"}],"key":"GlVl3VRzxC"}],"key":"M3WPzDeDkt"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from xcube.core.store import new_data_store","visibility":"show","key":"zJK2UHvDNE"},{"type":"outputs","id":"cs6kgghJ-H_sSmG9VPSOQ","children":[],"visibility":"show","key":"yCvodxqHUZ"}],"visibility":"show","key":"EMLh1uVn4z"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"zarr_store = new_data_store('esa-cci-zarr')","visibility":"show","key":"qYpgBJtcUC"},{"type":"outputs","id":"Es3z0r8GRDfjYODkjEjgW","children":[],"visibility":"show","key":"yJrpoQrW4D"}],"visibility":"show","key":"CC2Q4AZUMH"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Again, let’s see what data sets are available.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bmmLxerxqp"}],"key":"zFM1kvzZbs"}],"key":"u1t29jGQ6n"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"datasets = zarr_store.list_data_ids()\ndatasets","visibility":"show","key":"Qqv6kVoE37"},{"type":"outputs","id":"hHiI86RuhVU-WybF7_l7Y","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"['ESACCI-BIOMASS-L4-AGB-MERGED-100m-2010-2018-fv2.0.zarr',\n 'ESACCI-BIOMASS-L4-AGB-MERGED-100m-2010-2020-fv4.0.zarr',\n 'ESACCI-GHG-L2-CH4-SCIAMACHY-WFMD-2002-2011-fv1.zarr',\n 'ESACCI-GHG-L2-CO2-OCO-2-FOCAL-2014-2021-v10.zarr',\n 'ESACCI-GHG-L2-CO2-SCIAMACHY-WFMD-2002-2012-fv1.zarr',\n 'ESACCI-ICESHEETS_Antarctica_GMB-2002-2016-v1.1.zarr',\n 'ESACCI-ICESHEETS_Greenland_GMB-2003-2016-v1.1.zarr',\n 'ESACCI-L3C_CLOUD-CLD_PRODUCTS-AVHRR_NOAA-1982-2016-fv3.0.zarr',\n 'ESACCI-L3C_SNOW-SWE-1979-2018-fv1.0.zarr',\n 'ESACCI-L3C_SNOW-SWE-1979-2020-fv2.0.zarr',\n 'ESACCI-L4_FIRE-BA-MODIS-2001-2022-fv5.1.zarr',\n 'ESACCI-L4_GHRSST-SST-GMPE-GLOB_CDR2.0-1981-2016-v02.0-fv01.0.zarr',\n 'ESACCI-LC-L4-LCCS-Map-300m-P1Y-1992-2015-v2.0.7b.zarr',\n 'ESACCI-LST-L3C-LST-MODISA-0.01deg_1DAILY_DAY-2002-2018-fv3.00.zarr',\n 'ESACCI-LST-L3C-LST-MODISA-0.01deg_1DAILY_NIGHT-2002-2018-fv3.00.zarr',\n 'ESACCI-LST-L3S-LST-IRCDR_-0.01deg_1DAILY_DAY-1995-2020-fv3.00.zarr',\n 'ESACCI-LST-L3S-LST-IRCDR_-0.01deg_1DAILY_NIGHT-1995-2020-fv3.00.zarr',\n 'ESACCI-LST-L3S-LST-IRCDR_-0.01deg_1MONTHLY_DAY-1995-2020-fv3.00.zarr',\n 'ESACCI-LST-L3S-LST-IRCDR_-0.01deg_1MONTHLY_NIGHT-1995-2020-fv3.00.zarr',\n 'ESACCI-OC-L3S-IOP-MERGED-1M_MONTHLY_4km_GEO_PML_OCx_QAA-1997-2020-fv5.0.zarr',\n 'ESACCI-OC-L3S-IOP-MERGED-1M_MONTHLY_4km_GEO_PML_OCx_QAA-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-IOP-MERGED-1D_DAILY_4km_GEO_PML_OCx_QAA-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-IOP-MERGED-1Y_YEARLY_4km_GEO_PML_OCx_QAA-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-IOP-MERGED-5D_DAILY_4km_GEO_PML_OCx_QAA-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-IOP-MERGED-8D_DAILY_4km_GEO_PML_OCx_QAA-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-OC_PRODUCTS-MERGED-1D_DAILY_4km_GEO_PML_OCx_QAA-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-OC_PRODUCTS-MERGED-1M_MONTHLY_4km_GEO_PML_OCx_QAA-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-OC_PRODUCTS-MERGED-1Y_YEARLY_4km_GEO_PML_OCx_QAA-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-OC_PRODUCTS-MERGED-5D_DAILY_4km_GEO_PML_OCx_QAA-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-OC_PRODUCTS-MERGED-8D_DAILY_4km_GEO_PML_OCx_QAA-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-RRS-MERGED-1M_MONTHLY_4km_GEO_PML_RRS-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-RRS-MERGED-1Y_YEARLY_4km_GEO_PML_RRS-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-RRS-MERGED-1D_DAILY_4km_GEO_PML_RRS-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-RRS-MERGED-5D_DAILY_4km_GEO_PML_RRS-1997-2022-fv6.0.zarr',\n 'ESACCI-OC-L3S-RRS-MERGED-8D_DAILY_4km_GEO_PML_RRS-1997-2022-fv6.0.zarr',\n 'ESACCI-PERMAFROST-L4-ALT-MODISLST-AREA4_PP-1997-2018-fv02.0.zarr',\n 'ESACCI-SEAICE-L3C-SITHICK-RA2_ENVISAT-NH25KMEASE2-2002-2012-fv2.0.zarr',\n 'ESACCI-SEAICE-L3C-SITHICK-SIRAL_CRYOSAT2-NH25KMEASE2-2010-2017-fv2.0.zarr',\n 'ESACCI-SEAICE-L4-SICONC-AMSR_50.0kmEASE2-NH-2002-2017-fv2.1.zarr',\n 'ESACCI-SEALEVEL-IND-MSLTR-MERGED-1993-2016-fv02.zarr',\n 'ESACCI-SEALEVEL-L4-MSLA-MERGED-1993-2015-fv02.zarr',\n 'ESACCI-SOILMOISTURE-L3S-SSMV-COMBINED-1978-2020-fv05.3.zarr',\n 'ESACCI-SOILMOISTURE-L3S-SSMV-COMBINED-1978-2021-fv07.1.zarr',\n 'ESACCI-WATERVAPOUR-L3C-TCWV-meris-005deg-2002-2017-fv3.2.zarr']","content_type":"text/plain"}}},"children":[],"key":"yf5u7xaPOB"}],"visibility":"show","key":"O5uKvMTNY6"}],"visibility":"show","key":"hF2rI6ensE"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"len(datasets)","visibility":"show","key":"Zev0WgelQa"},{"type":"outputs","id":"KxH5t-jF8_ca5MdUaYU5H","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"44","content_type":"text/plain"}}},"children":[],"key":"IP9Xc67Eb9"}],"visibility":"show","key":"SX2pHTTbSG"}],"visibility":"show","key":"DWnOx948kG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The names are similar but different to the ones from the Climate Toolbox store.\nWe can have a look at a dataset’s metadata to find out more about it.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dHgCDc0Ljn"}],"key":"vqjjZ1QEWi"}],"key":"zkU4wEnK1s"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"zarr_store.describe_data('ESACCI-SOILMOISTURE-L3S-SSMV-COMBINED-1978-2021-fv07.1.zarr')","visibility":"show","key":"f5uNfy2PSy"},{"type":"outputs","id":"GMFgRyXpxlh1mgO7M1MzU","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"application/json":{"content":"{\"attrs\":{\"Conventions\":\"CF-1.9\",\"cdm_data_type\":\"Grid\",\"comment\":\"This dataset was produced with funding of the ESA CCI+ Soil Moisture project; ESRIN Contract No: 4000126684/19/I-NB\",\"contact\":\"cci_sm_contact@eodc.eu\",\"creator_email\":\"cci_sm_developer@eodc.eu\",\"creator_name\":\"Department of Geodesy and Geoinformation, Vienna University of Technology\",\"creator_url\":\"https://climers.geo.tuwien.ac.at/\",\"date_created\":\"File created: 2022-04-06 12:31:39.526359\",\"geospatial_lat_max\":\"90.0\",\"geospatial_lat_min\":\"-90.0\",\"geospatial_lat_resolution\":\"0.25 degree\",\"geospatial_lat_units\":\"degrees_north\",\"geospatial_lon_max\":\"180.0\",\"geospatial_lon_min\":\"-180.0\",\"geospatial_lon_resolution\":\"0.25 degree\",\"geospatial_lon_units\":\"degrees_east\",\"geospatial_vertical_max\":\"0.0\",\"geospatial_vertical_min\":\"0.0\",\"history\":\"2022-04-06 12:29:35 - product produced\\n2023-08-09 17:33:51 - converted by nc2zarr, version 1.1.2.dev0\",\"id\":\"ESACCI-SOILMOISTURE-L3S-SSMV-COMBINED-20211231000000-fv07.1.nc\",\"institution\":\"TU Wien (AUT); VanderSat B.V. (NL)\",\"key_variables\":\"sm\",\"keywords\":\"soil moisture, soil water content, microwave remote sensing, active, passive, combined, climate data record\",\"keywords_vocabulary\":\"NASA Global Change Master Directory (GCMD) Science Keywords\",\"license\":\"Data use is free and open for all registered users.\",\"naming_authority\":\"TU Wien\",\"platform\":\"Nimbus 7, DMSP, TRMM, AQUA, Coriolis, GCOM-W1, MIRAS, SMAP, GPM, FengYun-3B, FengYun-3C, FengYun-3D; ERS-1, ERS-2, METOP-A, METOP-B\",\"processing_level\":\"Quality-controlled, super-collocated (L3S) Satellite Soil Moisture (SM) data from multiple sensors\",\"product_version\":\"v07.1\",\"project\":\"Climate Change Initiative - European Space Agency\",\"references\":\"http://www.esa-soilmoisture-cci.org; Dorigo, W.A., Wagner, W., Albergel, C., Albrecht, F.,  Balsamo, G., Brocca, L., Chung, D., Ertl, M., Forkel, M., Gruber, A., Haas, E., Hamer, D. P. Hirschi, M., Ikonen, J., De Jeu, R. Kidd, R. Lahoz, W., Liu, Y.Y., Miralles, D., Lecomte, P. (2017) ESA CCI Soil Moisture for improved Earth system understanding: State-of-the art and future directions. In Remote Sensing of Environment, 2017, ISSN 0034-4257, https://doi.org/10.1016/j.rse.2017.07.001; Gruber, A., Scanlon, T., van der Schalie, R., Wagner, W., Dorigo, W. (2019) Evolution of the ESA CCI Soil Moisture Climate Data Records and their underlying merging methodology. Earth System Science Data 11, 717-739, https://doi.org/10.5194/essd-11-717-2019; Gruber, A., Dorigo, W. A., Crow, W., Wagner W. (2017). Triple Collocation-Based Merging of Satellite Soil Moisture Retrievals. IEEE Transactions on Geoscience and Remote Sensing. PP. 1-13. https://doi.org/10.1109/TGRS.2017.2734070\",\"sensor\":\"SMMR, SSM/I, TMI, AMSR-E, WindSat, AMSR2, SMOS, SMAP_radiometer, GMI, VIRR-3B, VIRR-3C, VIRR-3D; AMI-WS, ASCAT-A, ASCAT-B, ASCAT-C\",\"source\":\"WARP 5.5R1.1/AMI-WS/ERS12 Level 2 Soil Moisture; WARP 5.4R1.0/AMI-WS/ERS2 Level 2 Soil Moisture; H115: Metop ASCAT Surface Soil Moisture Climate Data Record v5 12.5 km sampling, DOI: 10.15770/EUM_SAF_H_0006; H116: Metop ASCAT Surface Soil Moisture Climate Data Record v5 Extension 12.5 km sampling; H115: Metop ASCAT Surface Soil Moisture Climate Data Record v5 12.5 km sampling, DOI: 10.15770/EUM_SAF_H_0006; H116: Metop ASCAT Surface Soil Moisture Climate Data Record v5 Extension 12.5 km sampling; H115: Metop ASCAT Surface Soil Moisture Climate Data Record v5 12.5 km sampling, DOI: 10.15770/EUM_SAF_H_0006; H116: Metop ASCAT Surface Soil Moisture Climate Data Record v5 Extension 12.5 km sampling;; LPRMv7/SMMR/Nimbus 7 L3 Surface Soil Moisture, Ancillary Params, and quality flags; LPRMv7/SSMI/F08, F11, F13 DMSP L3 Surface Soil Moisture, Ancillary Params, and quality flags; LPRMv7/TMI/TRMM L2 Surface Soil Moisture, Ancillary Params, and QC; LPRMv7/AMSR-E/Aqua L2B Surface Soil Moisture, Ancillary Params, and QC; LPRMv7/WINDSAT/CORIOLIS L2 Surface Soil Moisture, Ancillary Params, and QC; LPRMv7/AMSR2/GCOM-W1 L3 Surface Soil Moisture, Ancillary Params; LPRMv7/SMOS/MIRAS L3 Surface Soil Moisture, CATDS Level 3 Brightness Temperatures (L3TB) version 300 RE03 & RE04; LPRMv7/SMAP_radiometer/SMAP L2 Surface Soil Moisture, Ancillary Params, and QC; LPRMv7/GMI/GPM L3 Surface Soil Moisture, Ancillary Params, and quality flags; LPRMv7/VIRR/FengYun-3B L3 Surface Soil Moisture, Ancillary Params, and quality flags; LPRMv7/VIRR/FengYun-3C L3 Surface Soil Moisture, Ancillary Params, and quality flags; LPRMv7/VIRR/FengYun-3D L3 Surface Soil Moisture, Ancillary Params, and quality flags;;\",\"spatial_resolution\":\"25km\",\"standard_name_vocabulary\":\"CF Standard Name Table v77\",\"summary\":\"This dataset was produced with funding of the ESA CCI+ Soil Moisture project; ESRIN Contract No: 4000126684/19/I-NB\",\"time_coverage_duration\":\"P43Y\",\"time_coverage_end\":\"2021-12-31 00:00:00\",\"time_coverage_end_product\":\"20211231T235959Z\",\"time_coverage_resolution\":\"P1D\",\"time_coverage_start\":\"1978-11-01 00:00:00\",\"time_coverage_start_product\":\"19781101T000000Z\",\"title\":\"ESA CCI Surface Soil Moisture COMBINED active+passive Product\",\"tracking_id\":\"ad35798e-58e0-488f-b5b9-593874a47700\"},\"bbox\":[-180,-90,180,90],\"coords\":{\"lat\":{\"attrs\":{\"_CoordinateAxisType\":\"Lat\",\"standard_name\":\"latitude\",\"units\":\"degrees_north\",\"valid_range\":[-90,90]},\"dims\":[\"lat\"],\"dtype\":\"float64\",\"name\":\"lat\"},\"lon\":{\"attrs\":{\"_CoordinateAxisType\":\"Lon\",\"standard_name\":\"longitude\",\"units\":\"degrees_east\",\"valid_range\":[-180,180]},\"dims\":[\"lon\"],\"dtype\":\"float64\",\"name\":\"lon\"},\"time\":{\"dims\":[\"time\"],\"dtype\":\"datetime64[ns]\",\"name\":\"time\"}},\"data_id\":\"ESACCI-SOILMOISTURE-L3S-SSMV-COMBINED-1978-2021-fv07.1.zarr\",\"data_type\":\"dataset\",\"data_vars\":{\"dnflag\":{\"attrs\":{\"_CoordinateAxes\":\"time lat lon\",\"bit_meanings\":[\"NaN\",\"day\",\"night\"],\"bits\":[\"0b0\",\"0b1\",\"0b10\"],\"dtype\":\"int8\",\"flag_meanings\":[\"NaN\",\"day\",\"night\",\"day_night_combination\"],\"flag_values\":[0,1,2,3],\"long_name\":\"Day / Night Flag\",\"valid_range\":[0,3]},\"chunks\":[16,720,720],\"dims\":[\"time\",\"lat\",\"lon\"],\"dtype\":\"float32\",\"name\":\"dnflag\"},\"flag\":{\"attrs\":{\"_CoordinateAxes\":\"time lat lon\",\"bit_meanings\":[\"no_data_inconsistency_detected\",\"snow_coverage_or_temperature_below_zero\",\"dense_vegetation\",\"others_no_convergence_in_the_model_thus_no_valid_sm_estimates\",\"soil_moisture_value_exceeds_physical_boundary\",\"weight_of_measurement_below_threshold\",\"all_datasets_deemed_unreliable\",\"barren_ground_advisory_flag\",\"NaN\"],\"bits\":[\"0b0\",\"0b1\",\"0b10\",\"0b100\",\"0b1000\",\"0b10000\",\"0b100000\",\"0b1000000\",\"0b10000000\"],\"dtype\":\"int16\",\"flag_meanings\":[\"no_data_inconsistency_detected\",\"snow_coverage_or_temperature_below_zero\",\"dense_vegetation\",\"combination_of_flag_values_1_and_2\",\"soil_moisture_value_exceeds_physical_boundary\",\"combination_of_flag_values_1_and_8\",\"combination_of_flag_values_2_and_8\",\"barren_ground_advisory_flag\",\"combination_of_flag_values_1_and_64\",\"combination_of_flag_values_2_and_64\",\"combination_of_flag_values_1_and_2_and_64\",\"combination_of_flag_values_8_and_64\",\"combination_of_flag_values_1_and_8_and_64\",\"combination_of_flag_values_2_and_8_and_64\",\"combination_of_flag_values_1_and_2_and_4_and_8_and_16_and_32_and_64\"],\"flag_values\":[0,1,2,3,8,9,10,64,65,66,67,72,73,74,127],\"long_name\":\"Flag\",\"standard_name\":\"soil_moisture_content status_flag\",\"valid_range\":[0,255]},\"chunks\":[16,720,720],\"dims\":[\"time\",\"lat\",\"lon\"],\"dtype\":\"float32\",\"name\":\"flag\"},\"freqbandID\":{\"attrs\":{\"_CoordinateAxes\":\"time lat lon\",\"bit_meanings\":[\"NaN\",\"L14\",\"C53\",\"C66\",\"C68\",\"C69\",\"C73\",\"X107\",\"K194\",\"MODEL\"],\"bits\":[\"0b0\",\"0b1\",\"0b10\",\"0b100\",\"0b1000\",\"0b10000\",\"0b100000\",\"0b1000000\",\"0b10000000\",\"0b100000000\"],\"dtype\":\"int16\",\"flag_meanings\":[\"NaN\",\"C66\",\"X107\",\"C66+X107\"],\"flag_values\":[0,4,64,68],\"long_name\":\"Frequency Band Identification\",\"valid_range\":[0,511]},\"chunks\":[16,720,720],\"dims\":[\"time\",\"lat\",\"lon\"],\"dtype\":\"float32\",\"name\":\"freqbandID\"},\"mode\":{\"attrs\":{\"_CoordinateAxes\":\"time lat lon\",\"bit_meanings\":[\"NaN\",\"ascending\",\"descending\"],\"bits\":[\"0b0\",\"0b1\",\"0b10\"],\"dtype\":\"int8\",\"flag_meanings\":[\"NaN\",\"ascending\",\"descending\",\"ascending_descending_combination\"],\"flag_values\":[0,1,2,3],\"long_name\":\"Satellite Mode\",\"valid_range\":[0,3]},\"chunks\":[16,720,720],\"dims\":[\"time\",\"lat\",\"lon\"],\"dtype\":\"float32\",\"name\":\"mode\"},\"sensor\":{\"attrs\":{\"_CoordinateAxes\":\"time lat lon\",\"bit_meanings\":[\"NaN\",\"SMMR\",\"SSMI\",\"TMI\",\"AMSRE\",\"WindSat\",\"AMSR2\",\"SMOS\",\"AMIWS\",\"ASCATA\",\"ASCATB\",\"SMAP\",\"MODEL\",\"GPM\",\"FY3B\",\"FY3D\",\"ASCATC\",\"FY3C\"],\"bits\":[\"0b0\",\"0b1\",\"0b10\",\"0b100\",\"0b1000\",\"0b10000\",\"0b100000\",\"0b1000000\",\"0b10000000\",\"0b100000000\",\"0b1000000000\",\"0b10000000000\",\"0b100000000000\",\"0b1000000000000\",\"0b10000000000000\",\"0b100000000000000\",\"0b1000000000000000\",\"0b10000000000000000\"],\"dtype\":\"int32\",\"flag_meanings\":[\"NaN\",\"SMMR\"],\"flag_values\":[0,1],\"long_name\":\"Sensor\",\"valid_range\":[0,131071]},\"chunks\":[16,720,720],\"dims\":[\"time\",\"lat\",\"lon\"],\"dtype\":\"float64\",\"name\":\"sensor\"},\"sm\":{\"attrs\":{\"_CoordinateAxes\":\"time lat lon\",\"ancillary_variables\":\"sm_uncertainty flag t0\",\"dtype\":\"float32\",\"long_name\":\"Volumetric Soil Moisture\",\"standard_name\":\"soil_moisture_content\",\"units\":\"m3 m-3\",\"valid_range\":[0,1]},\"chunks\":[16,720,720],\"dims\":[\"time\",\"lat\",\"lon\"],\"dtype\":\"float32\",\"name\":\"sm\"},\"sm_uncertainty\":{\"attrs\":{\"_CoordinateAxes\":\"time lat lon\",\"dtype\":\"float32\",\"long_name\":\"Volumetric Soil Moisture Uncertainty\",\"standard_name\":\"soil_moisture_content standard_error\",\"units\":\"m3 m-3\",\"valid_range\":[0,1]},\"chunks\":[16,720,720],\"dims\":[\"time\",\"lat\",\"lon\"],\"dtype\":\"float32\",\"name\":\"sm_uncertainty\"},\"t0\":{\"attrs\":{\"_CoordinateAxes\":\"time lat lon\",\"dtype\":\"float64\",\"long_name\":\"Observation Timestamp\",\"units\":\"days after 1970-01-01 00:00:00 UTC\",\"valid_range\":[3225,3227]},\"chunks\":[16,720,720],\"dims\":[\"time\",\"lat\",\"lon\"],\"dtype\":\"float64\",\"name\":\"t0\"}},\"dims\":{\"lat\":720,\"lon\":1440,\"time\":15767},\"spatial_res\":0.25,\"time_period\":\"1D\",\"time_range\":[\"1978-10-31\",\"2021-12-31\"]}","content_type":"application/json"},"text/plain":{"content":"<xcube.core.store.descriptor.DatasetDescriptor at 0x7fe84327eba0>","content_type":"text/plain"}}},"children":[],"key":"QAQCjyWBsr"}],"visibility":"show","key":"Zw5ayNA3lL"}],"visibility":"show","key":"P2Tzx9hpYq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Cubes can easily be opened from the store like this:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DNnRlpFvxv"}],"key":"Qpm7mgLzGt"}],"key":"EFAvVdVE8s"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cube = zarr_store.open_data('ESACCI-SOILMOISTURE-L3S-SSMV-COMBINED-1978-2021-fv07.1.zarr')\ncube","visibility":"show","key":"AjiKSVDEjs"},{"type":"outputs","id":"RgjPvuazks_6hcuLyAzRP","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"ac7ebf9d817f514aaa6e0c27a89f5baf","path":"/cci-toolbox-usage-viewers/build/ac7ebf9d817f514aaa6e0c27a89f5baf.html"},"text/plain":{"content":"<xarray.Dataset> Size: 654GB\nDimensions:         (time: 15767, lat: 720, lon: 1440)\nCoordinates:\n  * lat             (lat) float64 6kB 89.88 89.62 89.38 ... -89.38 -89.62 -89.88\n  * lon             (lon) float64 12kB -179.9 -179.6 -179.4 ... 179.6 179.9\n  * time            (time) datetime64[ns] 126kB 1978-11-01 ... 2021-12-31\nData variables:\n    dnflag          (time, lat, lon) float32 65GB dask.array<chunksize=(16, 720, 720), meta=np.ndarray>\n    flag            (time, lat, lon) float32 65GB dask.array<chunksize=(16, 720, 720), meta=np.ndarray>\n    freqbandID      (time, lat, lon) float32 65GB dask.array<chunksize=(16, 720, 720), meta=np.ndarray>\n    mode            (time, lat, lon) float32 65GB dask.array<chunksize=(16, 720, 720), meta=np.ndarray>\n    sensor          (time, lat, lon) float64 131GB dask.array<chunksize=(16, 720, 720), meta=np.ndarray>\n    sm              (time, lat, lon) float32 65GB dask.array<chunksize=(16, 720, 720), meta=np.ndarray>\n    sm_uncertainty  (time, lat, lon) float32 65GB dask.array<chunksize=(16, 720, 720), meta=np.ndarray>\n    t0              (time, lat, lon) float64 131GB dask.array<chunksize=(16, 720, 720), meta=np.ndarray>\nAttributes: (12/44)\n    Conventions:                  CF-1.9\n    cdm_data_type:                Grid\n    comment:                      This dataset was produced with funding of t...\n    contact:                      cci_sm_contact@eodc.eu\n    creator_email:                cci_sm_developer@eodc.eu\n    creator_name:                 Department of Geodesy and Geoinformation, V...\n    ...                           ...\n    time_coverage_end_product:    20211231T235959Z\n    time_coverage_resolution:     P1D\n    time_coverage_start:          1978-11-01 00:00:00\n    time_coverage_start_product:  19781101T000000Z\n    title:                        ESA CCI Surface Soil Moisture COMBINED acti...\n    tracking_id:                  ad35798e-58e0-488f-b5b9-593874a47700","content_type":"text/plain"}}},"children":[],"key":"i15qsC2V5S"}],"visibility":"show","key":"CASE9Mg1p8"}],"visibility":"show","key":"asbDkdMN63"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Subsets of the data may easily be created like this:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EPd5Gmg64I"}],"key":"BFdimnQY5P"}],"key":"PSMKLkBpJz"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"sub_cube = cube.sel({\n    'lat': slice(40.40, -40.40),\n    'lon': slice(-23.40, 57.40),\n    'time': slice('2000-01-01', '2000-12-31')\n    }\n)\nsub_cube","visibility":"show","key":"ioIYBCPJuR"},{"type":"outputs","id":"ohrwYI7WwwM3jKca0H930","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"50d50fe871e9b0356ec779f197d14905","path":"/cci-toolbox-usage-viewers/build/50d50fe871e9b0356ec779f197d14905.html"},"text/plain":{"content":"<xarray.Dataset> Size: 2GB\nDimensions:         (time: 366, lat: 324, lon: 324)\nCoordinates:\n  * lat             (lat) float64 3kB 40.38 40.12 39.88 ... -39.88 -40.12 -40.38\n  * lon             (lon) float64 3kB -23.38 -23.12 -22.88 ... 56.88 57.12 57.38\n  * time            (time) datetime64[ns] 3kB 2000-01-01 ... 2000-12-31\nData variables:\n    dnflag          (time, lat, lon) float32 154MB dask.array<chunksize=(13, 324, 94), meta=np.ndarray>\n    flag            (time, lat, lon) float32 154MB dask.array<chunksize=(13, 324, 94), meta=np.ndarray>\n    freqbandID      (time, lat, lon) float32 154MB dask.array<chunksize=(13, 324, 94), meta=np.ndarray>\n    mode            (time, lat, lon) float32 154MB dask.array<chunksize=(13, 324, 94), meta=np.ndarray>\n    sensor          (time, lat, lon) float64 307MB dask.array<chunksize=(13, 324, 94), meta=np.ndarray>\n    sm              (time, lat, lon) float32 154MB dask.array<chunksize=(13, 324, 94), meta=np.ndarray>\n    sm_uncertainty  (time, lat, lon) float32 154MB dask.array<chunksize=(13, 324, 94), meta=np.ndarray>\n    t0              (time, lat, lon) float64 307MB dask.array<chunksize=(13, 324, 94), meta=np.ndarray>\nAttributes: (12/44)\n    Conventions:                  CF-1.9\n    cdm_data_type:                Grid\n    comment:                      This dataset was produced with funding of t...\n    contact:                      cci_sm_contact@eodc.eu\n    creator_email:                cci_sm_developer@eodc.eu\n    creator_name:                 Department of Geodesy and Geoinformation, V...\n    ...                           ...\n    time_coverage_end_product:    20211231T235959Z\n    time_coverage_resolution:     P1D\n    time_coverage_start:          1978-11-01 00:00:00\n    time_coverage_start_product:  19781101T000000Z\n    title:                        ESA CCI Surface Soil Moisture COMBINED acti...\n    tracking_id:                  ad35798e-58e0-488f-b5b9-593874a47700","content_type":"text/plain"}}},"children":[],"key":"qClX0UDLlj"}],"visibility":"show","key":"lrdxS22ZnD"}],"visibility":"show","key":"b90yP9BqV1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"... and we can plot the data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MShqCszFHA"}],"key":"Fqx8xmzvka"}],"key":"auoyRrNdoo"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"sub_cube.sm.sel(time='2000-07-01 12:00:00', method='nearest').plot.imshow(cmap='Greys_r', figsize=(8, 8))","visibility":"show","key":"ESJpXfrjYs"},{"type":"outputs","id":"Xr4pLfAaL56cs7PuxkxcD","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"af12fcf1633c8ae5cd84c34234846a16","path":"/cci-toolbox-usage-viewers/build/af12fcf1633c8ae5cd84c34234846a16.png"},"text/plain":{"content":"<Figure size 800x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"jnpa32HzYG"}],"visibility":"show","key":"Z4S5kgDfR5"}],"visibility":"show","key":"wgfc2iYIwc"}],"key":"LTDaV2Gpre"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"ESA CCI Toolbox Vector Data Access","url":"/external-notebooks/esa-cci/esa-climate-toolbox/docs/source/notebooks/accessing-data/ect-access-vector-data","group":"Source"},"next":{"title":"Access to Data in NetCDF format viewed as Zarr","url":"/external-notebooks/esa-cci/esa-climate-toolbox/docs/source/notebooks/accessing-data/ect-kerchunk-access","group":"Source"}}},"domain":"http://localhost:3000"}