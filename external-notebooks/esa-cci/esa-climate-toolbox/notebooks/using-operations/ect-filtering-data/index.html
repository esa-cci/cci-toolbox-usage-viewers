<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Filter Operations - CCI Examples</title><meta property="og:title" content="Filter Operations - CCI Examples"/><meta name="generator" content="mystmd"/><meta name="description" content="Collection of examples relevant to the CCI activity"/><meta property="og:description" content="Collection of examples relevant to the CCI activity"/><meta name="keywords" content=""/><link rel="stylesheet" href="/cci-toolbox-usage-viewers/build/_assets/app-AIT5GAEP.css"/><link rel="stylesheet" href="/cci-toolbox-usage-viewers/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/cci-toolbox-usage-viewers/favicon.ico"/><link rel="stylesheet" href="/cci-toolbox-usage-viewers/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block lg:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/cci-toolbox-usage-viewers/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] lg:hidden hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="myst-fm-block-subject flex-none pr-2 smallcaps">CCI Examples</div><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/esa-cci/cci-notebook-viewers" title="GitHub Repository: esa-cci/cci-notebook-viewers" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/esa-cci/cci-notebook-viewers/edit/main/external_notebooks/esa-cci/esa-climate-toolbox/notebooks/Using_Operations/4-ECT_Filtering_Data.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">Filter Operations</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="AEkz3eHrfG" class="myst-jp-nb-block relative group/block"><h1 id="filter-operations" class="relative group"><span class="heading-text">Filter Operations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#filter-operations" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>In this section, we will demonstrate three filter operations on CCI ECV datasets:</p><ol start="1"><li><p>Filtering a dataset based on a specific flag value.</p></li><li><p>Filtering, exploring, and propagating uncertainties that accompany the dataset.</p></li><li><p>Filtering based on any data feature.</p></li></ol><p>All of these filter operations are performed using the <a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.where.html" class=""><code>xarray.Dataset.where</code></a> method, which is fully compatible with <a target="_blank" rel="noreferrer" href="https://www.dask.org/" class="">Dask</a>. This approach allows for on-demand filtering, performed chunk-by-chunk for efficiency.</p></div><div id="IvvW8wGvip" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/><h2 id="id-1-filtering-a-datset-for-a-given-flag-value" class="relative group"><span class="heading-text">1. Filtering a datset for a given flag value</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-1-filtering-a-datset-for-a-given-flag-value" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We will show this filtering operation on a soil moisture dataset, which comes with a quality flag for its observational data.</p></div><div id="jKOwhJuybd" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import matplotlib.pyplot as plt
from xcube.core.store import new_data_store</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="_SRVDDYH2q3er9hppobtD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="mZu2Rc69m8" class="myst-jp-nb-block relative group/block"><p>We can access the soil moisture dataset through the Zarr data store, as shown below:</p></div><div id="o4znxYTz34" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">store = new_data_store(&#x27;esa-cci-zarr&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="NW63mwraHDcjyLlgBAB6q" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ooBU2ezbsL" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ds = store.open_data(&quot;ESACCI-SOILMOISTURE-L3S-SSMV-COMBINED-1978-2021-fv07.1.zarr&quot;)
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="uKk1fY3hJ4AYZsT_zeUwb" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="c3duq68cDi" class="myst-jp-nb-block relative group/block"><p>We can filter the soil moisture data using the <code>&quot;no_data_inconsistency_detected&quot;</code> flag, which corresponds to a flag value of <code>0</code> in the <code>flag</code> data variable. This value can be verified by checking the attributes of the <code>flag</code> variable.</p></div><div id="B0pthnta6H" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">filtered_ds = ds.where(ds[&quot;flag&quot;] != 0)
filtered_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Co9_ThtTL_kbfZ963FQ0v" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="dK8QnfrkC2" class="myst-jp-nb-block relative group/block"><p>We can generate a comparison plot that illustrates both the unfiltered and filtered soil moisture at a single time step as an example.</p></div><div id="z4WCEFThNh" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(1, 2, figsize=(13, 4))
ds.sm.isel(time=-1).plot(ax=ax[0], vmin=0, vmax=1)
filtered_ds.sm.isel(time=-1).plot(ax=ax[1], vmin=0, vmax=1)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Xy94Ip5xpyVciDRKIITKs" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cci-toolbox-usage-viewers/build/1a374de45f99638ceb7b8adbac8012a4.png" alt="&lt;Figure size 1300x400 with 4 Axes&gt;"/></div></div></div><div id="pCYcvkBC1I" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/><h2 id="id-2-filtering-based-on-uncertainties-that-accompany-a-dataset" class="relative group"><span class="heading-text">2. Filtering based on uncertainties that accompany a dataset</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-2-filtering-based-on-uncertainties-that-accompany-a-dataset" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We will show this filtering operation on a biomass dataset, which carries uncertainty values for the above-ground biomass data in the <code>&quot;abg_se&quot;</code> (long name <code>&quot;Above-ground biomass standard_error&quot;</code>) data variable.</p></div><div id="oxRJ8pE9Ll" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ds = store.open_data(&#x27;ESACCI-BIOMASS-L4-AGB-MERGED-100m-2010-2020-fv4.0.zarr&#x27;)
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="MDEk6JNcQU1vNtGYXQHlN" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="HjKFIrxWsU" class="myst-jp-nb-block relative group/block"><p>Since the dataset is quite large, we have selected the Tropical Climate Zone (TCL) in Africa for analysis. This region is known for its high biological activity and consequently high values of above-ground biomass.</p><p>It’s important to note that the filtering method works efficiently on the full dataset. This is because the <code>xarray.Dataset.where</code> operation is performed on demand, either when writing or plotting the data. However, without selecting a smaller subset like the TCL Zone, performance issues will arise during plotting.</p></div><div id="vQnnhT1voz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ds = ds.sel(lat=slice(10, -10), lon=slice(10, 40))
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="NFLFBeBzBCRpngMAZNdZA" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="G1qmrKTvoB" class="myst-jp-nb-block relative group/block"><p>Where filter the dataset for standard error smaller than 100 Mg/ha.</p></div><div id="ZYkev1Khbu" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">filtered_ds = ds.where(ds[&quot;agb_se&quot;] &lt;= 100)
filtered_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="XY_KkKFa6QjZU5SpS0Kbz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="wJC6oFsdgj" class="myst-jp-nb-block relative group/block"><p>We can generate a comparison plot that illustrates both the unfiltered and filtered above-ground biomass at a single time step as an example. Also here we downsample the dataset for the plotting.</p></div><div id="dZB8kBNY7f" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(1, 2, figsize=(13, 4))
ds.agb.isel(time=-1)[::20, ::20].plot(ax=ax[0], vmin=0, vmax=500)
filtered_ds.agb.isel(time=-1)[::20, ::20].plot(ax=ax[1], vmin=0, vmax=500)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Ig-IFKUkcFzx4-bR7Cnwc" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cci-toolbox-usage-viewers/build/9e69eb027d14948f091e095e7cff4d41.png" alt="&lt;Figure size 1300x400 with 4 Axes&gt;"/></div></div></div><div id="YTUBHfpE7X" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/><h2 id="id-3-filtering-by-any-data-feature" class="relative group"><span class="heading-text">3. Filtering by any data feature</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3-filtering-by-any-data-feature" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We will show this filtering operation on the soil moisture dataset, which also has other data variables which can be used for filtering.</p></div><div id="cJjHV4sbIh" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ds = store.open_data(&quot;ESACCI-SOILMOISTURE-L3S-SSMV-COMBINED-1978-2021-fv07.1.zarr&quot;)
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="lqDpu55oHPlWUmP7rrAGv" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="Uk6x15y5YQ" class="myst-jp-nb-block relative group/block"><p>For example, we can use the data variable <code>&quot;mode&quot;</code>, which indicates whether the observation is derived from the ascending or descending orbit. This variable can be used to filter the dataset, allowing us to select only the ascending mode, represented by <code>1</code>, and the descending mode, represented by <code>2</code>, and  as shown below:</p></div><div id="FMIA9QoKGv" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(1, 2, figsize=(13, 4))
ds.where(ds[&quot;mode&quot;] == 1).sm.isel(time=-1).plot(ax=ax[0], vmin=0, vmax=0.7)
ds.where(ds[&quot;mode&quot;] == 2).sm.isel(time=-1).plot(ax=ax[1], vmin=0, vmax=0.7)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="KsbmpZUh50pQvOszMkZR4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cci-toolbox-usage-viewers/build/3f0974cd675706e0b0ec0d2b790bcd42.png" alt="&lt;Figure size 1300x400 with 4 Axes&gt;"/></div></div></div><div id="uSGL32vbgI" class="myst-jp-nb-block relative group/block"><p>We can easliy generate the same plot for the soil moisture uncertainty data variable.</p></div><div id="OURDA7pqQH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(1, 2, figsize=(13, 4))
ds.where(ds[&quot;mode&quot;] == 1).sm_uncertainty.isel(time=-1).plot(ax=ax[0], vmin=0, vmax=0.07)
ds.where(ds[&quot;mode&quot;] == 2).sm_uncertainty.isel(time=-1).plot(ax=ax[1], vmin=0, vmax=0.07)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="6VdroFq1liqzuP7l-efcG" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cci-toolbox-usage-viewers/build/fd7d7d8ffe688e890bebf1383726b0a4.png" alt="&lt;Figure size 1300x400 with 4 Axes&gt;"/></div></div></div><div class="myst-backmatter-parts"></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-OYMW4E3D.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/root-CXYA7X5D.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/_shared/chunk-DATP5P2X.js"/><link rel="modulepreload" href="/cci-toolbox-usage-viewers/build/routes/$-JRBPULBO.js"/><script>window.__remixContext = {"url":"/external-notebooks/esa-cci/esa-climate-toolbox/notebooks/using-operations/ect-filtering-data","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Esa Climate Toolbox","level":3},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.changes","title":"Changes in 1.5.2 (in development)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.readme","title":"ESA CCI Toolbox","description":"","date":"","thumbnail":"/cci-toolbox-usage-viewers/build/4953b7866e112b647ec659c6cb9b528a.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Docs","level":4},{"title":"Source","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-finding-data","title":"ESA CCI Toolbox Finding Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-general-data-access","title":"ESA CCI Toolbox Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-data-access-with-subsets","title":"ESA CCI Toolbox Data Access with Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-vector-data","title":"ESA CCI Toolbox Vector Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-zarr-access","title":"Access to Zarr Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-kerchunk-access","title":"Access to Data in NetCDF format viewed as Zarr","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-vector-data-cubes","title":"ESA CCI Toolbox Vector Data Cube Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-reading-wcs-data","title":"Access to WCS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-reading-wms-data","title":"Access to WMS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-esgf","title":"Accessing Obs4MIPs and CMIP Data via ESGF","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-data-trees","title":"ESA CCI Toolbox Data Tree Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.advanced-functionality.ect-using-xcube-viewer","title":"Using the ESA CCI Toolbox with the xcube Viewer","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.advanced-functionality.ect-failure-reporting","title":"Failure reporting in the ESA Climate Toolbox","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.advanced-functionality.ect-performance","title":"Performance tests","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-finding-operations","title":"Finding Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-using-operations","title":"Usage of Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-reprojecting-data","title":"ESA CCI Toolbox Reproject Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-filtering-data","title":"Filter Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-gap-filling","title":"Gap Filling","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Esa Climate Toolbox","level":4},{"title":"Functions","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.esa-climate-toolbox.functions.country-data.readme","title":"README","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Notebooks","level":4},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.readme","title":"ESA CCI Toolbox Notebooks Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Accessing Data","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-finding-data","title":"ESA CCI Toolbox Finding Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-general-data-access","title":"ESA CCI Toolbox Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-data-access-with-subsets","title":"ESA CCI Toolbox Data Access with Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-vector-data","title":"ESA CCI Toolbox Vector Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-zarr-access","title":"Access to Zarr Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-kerchunk-access","title":"Access to Data in NetCDF format viewed as Zarr","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-vector-data-cubes","title":"ESA CCI Toolbox Vector Data Cube Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-reading-wcs-data","title":"Access to WCS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-reading-wms-data","title":"Access to WMS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-esgf","title":"Accessing Obs4MIPs and CMIP Data via ESGF","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-data-trees","title":"ESA CCI Toolbox Data Tree Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Advanced Functionality","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.advanced-functionality.ect-using-xcube-viewer","title":"Using the ESA CCI Toolbox with the xcube Viewer","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.advanced-functionality.ect-failure-reporting","title":"Failure reporting in the ESA Climate Toolbox","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.advanced-functionality.ect-performance","title":"Performance tests","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"User Examples","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.user-examples.cci-seaice-animation","title":"Access and Plot Northern Hemisphere Sea Ice from Zarr Data Storage","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.user-examples.readme","title":"External User Created Examples","description":"","date":"","thumbnail":"/cci-toolbox-usage-viewers/build/f25d28dd3a739df753ed621df553d611.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Using Operations","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-finding-operations","title":"Finding Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-using-operations","title":"Usage of Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-reprojecting-data","title":"ESA CCI Toolbox Reproject Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-filtering-data","title":"Filter Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-gap-filling","title":"Gap Filling","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/cci-toolbox-usage-viewers"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Esa Climate Toolbox","level":3},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.changes","title":"Changes in 1.5.2 (in development)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.readme","title":"ESA CCI Toolbox","description":"","date":"","thumbnail":"/cci-toolbox-usage-viewers/build/4953b7866e112b647ec659c6cb9b528a.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Docs","level":4},{"title":"Source","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-finding-data","title":"ESA CCI Toolbox Finding Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-general-data-access","title":"ESA CCI Toolbox Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-data-access-with-subsets","title":"ESA CCI Toolbox Data Access with Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-vector-data","title":"ESA CCI Toolbox Vector Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-zarr-access","title":"Access to Zarr Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-kerchunk-access","title":"Access to Data in NetCDF format viewed as Zarr","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-vector-data-cubes","title":"ESA CCI Toolbox Vector Data Cube Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-reading-wcs-data","title":"Access to WCS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-reading-wms-data","title":"Access to WMS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-esgf","title":"Accessing Obs4MIPs and CMIP Data via ESGF","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-data-trees","title":"ESA CCI Toolbox Data Tree Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.advanced-functionality.ect-using-xcube-viewer","title":"Using the ESA CCI Toolbox with the xcube Viewer","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.advanced-functionality.ect-failure-reporting","title":"Failure reporting in the ESA Climate Toolbox","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.advanced-functionality.ect-performance","title":"Performance tests","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-finding-operations","title":"Finding Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-using-operations","title":"Usage of Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-reprojecting-data","title":"ESA CCI Toolbox Reproject Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-filtering-data","title":"Filter Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-gap-filling","title":"Gap Filling","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Esa Climate Toolbox","level":4},{"title":"Functions","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.esa-climate-toolbox.functions.country-data.readme","title":"README","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Notebooks","level":4},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.readme","title":"ESA CCI Toolbox Notebooks Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Accessing Data","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-finding-data","title":"ESA CCI Toolbox Finding Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-general-data-access","title":"ESA CCI Toolbox Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-data-access-with-subsets","title":"ESA CCI Toolbox Data Access with Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-vector-data","title":"ESA CCI Toolbox Vector Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-zarr-access","title":"Access to Zarr Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-kerchunk-access","title":"Access to Data in NetCDF format viewed as Zarr","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-vector-data-cubes","title":"ESA CCI Toolbox Vector Data Cube Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-reading-wcs-data","title":"Access to WCS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-reading-wms-data","title":"Access to WMS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-esgf","title":"Accessing Obs4MIPs and CMIP Data via ESGF","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-data-trees","title":"ESA CCI Toolbox Data Tree Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Advanced Functionality","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.advanced-functionality.ect-using-xcube-viewer","title":"Using the ESA CCI Toolbox with the xcube Viewer","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.advanced-functionality.ect-failure-reporting","title":"Failure reporting in the ESA Climate Toolbox","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.advanced-functionality.ect-performance","title":"Performance tests","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"User Examples","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.user-examples.cci-seaice-animation","title":"Access and Plot Northern Hemisphere Sea Ice from Zarr Data Storage","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.user-examples.readme","title":"External User Created Examples","description":"","date":"","thumbnail":"/cci-toolbox-usage-viewers/build/f25d28dd3a739df753ed621df553d611.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Using Operations","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-finding-operations","title":"Finding Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-using-operations","title":"Usage of Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-reprojecting-data","title":"ESA CCI Toolbox Reproject Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-filtering-data","title":"Filter Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-gap-filling","title":"Gap Filling","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}]},"page":{"version":3,"kind":"Notebook","sha256":"e61bedde652c55008130d6d8fcf0ae9193608e4e7f28be5b863e640e98931aea","slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-filtering-data","location":"/external_notebooks/esa-cci/esa-climate-toolbox/notebooks/Using_Operations/4-ECT_Filtering_Data.ipynb","dependencies":[],"frontmatter":{"title":"Filter Operations","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"github":"https://github.com/esa-cci/cci-notebook-viewers","subject":"CCI Examples","numbering":{"title":{"offset":5}},"source_url":"https://github.com/esa-cci/cci-notebook-viewers/blob/main/external_notebooks/esa-cci/esa-climate-toolbox/notebooks/Using_Operations/4-ECT_Filtering_Data.ipynb","edit_url":"https://github.com/esa-cci/cci-notebook-viewers/edit/main/external_notebooks/esa-cci/esa-climate-toolbox/notebooks/Using_Operations/4-ECT_Filtering_Data.ipynb","exports":[{"format":"ipynb","filename":"4-ECT_Filtering_Data.ipynb","url":"/cci-toolbox-usage-viewers/build/4-ECT_Filtering_Data-d677f5ceb2556d05bdbb10016b3e1b43.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Filter Operations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Z5S4xQqXU4"}],"identifier":"filter-operations","label":"Filter Operations","html_id":"filter-operations","implicit":true,"key":"efmkfhlb3w"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In this section, we will demonstrate three filter operations on CCI ECV datasets:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"p3s2vIptQJ"}],"key":"FnAojTVKne"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Filtering a dataset based on a specific flag value.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"iGPE2Upl7V"}],"key":"o7L88UI61P"}],"key":"TCOQouZO3d"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Filtering, exploring, and propagating uncertainties that accompany the dataset.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"GuY1cWprOW"}],"key":"onNSvNXVaJ"}],"key":"X3FJOxUF6O"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Filtering based on any data feature.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"hr9aDIJZES"}],"key":"tlH7W2svqR"}],"key":"E06KVliTlZ"}],"key":"zJiGpSDrwO"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"All of these filter operations are performed using the ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"FWQHzQWxDR"},{"type":"link","url":"https://docs.xarray.dev/en/stable/generated/xarray.Dataset.where.html","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"inlineCode","value":"xarray.Dataset.where","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"U67TqVnOMI"}],"urlSource":"https://docs.xarray.dev/en/stable/generated/xarray.Dataset.where.html","key":"J4XByEdX1H"},{"type":"text","value":" method, which is fully compatible with ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"RX71XZq0kq"},{"type":"link","url":"https://www.dask.org/","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Dask","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"pThRJBmmfK"}],"urlSource":"https://www.dask.org/","key":"kRA0IZIBoK"},{"type":"text","value":". This approach allows for on-demand filtering, performed chunk-by-chunk for efficiency.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"aa9TLmZhIE"}],"key":"vI6cbs20fR"}],"key":"AEkz3eHrfG"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yoNqthGA70"},{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"1. Filtering a datset for a given flag value","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"OXiYsaB8JD"}],"identifier":"id-1-filtering-a-datset-for-a-given-flag-value","label":"1. Filtering a datset for a given flag value","html_id":"id-1-filtering-a-datset-for-a-given-flag-value","implicit":true,"key":"mGm5VC8f5l"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We will show this filtering operation on a soil moisture dataset, which comes with a quality flag for its observational data.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"PxxjgJ9fnG"}],"key":"UnWQYgCdz9"}],"key":"IvvW8wGvip"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nfrom xcube.core.store import new_data_store","visibility":"show","key":"SlIWcE64QV"},{"type":"outputs","id":"_SRVDDYH2q3er9hppobtD","children":[],"visibility":"show","key":"haRUtr0SPJ"}],"visibility":"show","key":"jKOwhJuybd"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can access the soil moisture dataset through the Zarr data store, as shown below:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y87qAgWlzO"}],"key":"tsY5Xm4VZX"}],"key":"mZu2Rc69m8"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"store = new_data_store('esa-cci-zarr')","visibility":"show","key":"JkDIcOLNZj"},{"type":"outputs","id":"NW63mwraHDcjyLlgBAB6q","children":[],"visibility":"show","key":"FdS0nH4Cz1"}],"visibility":"show","key":"o4znxYTz34"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds = store.open_data(\"ESACCI-SOILMOISTURE-L3S-SSMV-COMBINED-1978-2021-fv07.1.zarr\")\nds","key":"zIe3A8X59s"},{"type":"outputs","id":"uKk1fY3hJ4AYZsT_zeUwb","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"0cf4a3a26cf90e2d2a616cd8cc952a14","path":"/cci-toolbox-usage-viewers/build/0cf4a3a26cf90e2d2a616cd8cc952a14.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 654GB\nDimensions:         (time: 15767, lat: 720, lon: 1440)\nCoordinates:\n  * lat             (lat) float64 6kB 89.88 89.62 89.38 ... -89.38 -89.62 -89.88\n  * lon             (lon) float64 12kB -179.9 -179.6 -179.4 ... 179.6 179.9\n  * time            (time) datetime64[ns] 126kB 1978-11-01 ... 2021-12-31\nData variables:\n    dnflag          (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    flag            (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    freqbandID      (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    mode            (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    sensor          (time, lat, lon) float64 131GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    sm              (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    sm_uncertainty  (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    t0              (time, lat, lon) float64 131GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\nAttributes: (12/44)\n    Conventions:                  CF-1.9\n    cdm_data_type:                Grid\n    comment:                      This dataset was produced with funding of t...\n    contact:                      cci_sm_contact@eodc.eu\n    creator_email:                cci_sm_developer@eodc.eu\n    creator_name:                 Department of Geodesy and Geoinformation, V...\n    ...                           ...\n    time_coverage_end_product:    20211231T235959Z\n    time_coverage_resolution:     P1D\n    time_coverage_start:          1978-11-01 00:00:00\n    time_coverage_start_product:  19781101T000000Z\n    title:                        ESA CCI Surface Soil Moisture COMBINED acti...\n    tracking_id:                  ad35798e-58e0-488f-b5b9-593874a47700","content_type":"text/plain"}}},"children":[],"key":"bpJDQWup7U"}],"key":"d20M28yLLH"}],"key":"ooBU2ezbsL"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can filter the soil moisture data using the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OBhCxssOiB"},{"type":"inlineCode","value":"\"no_data_inconsistency_detected\"","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WXYzrkdFHI"},{"type":"text","value":" flag, which corresponds to a flag value of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aI9OAJVuXk"},{"type":"inlineCode","value":"0","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rbbIV3aaNL"},{"type":"text","value":" in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jVwiCisXej"},{"type":"inlineCode","value":"flag","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UAXxJ6ELg5"},{"type":"text","value":" data variable. This value can be verified by checking the attributes of the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g7GUaaEyfL"},{"type":"inlineCode","value":"flag","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tcHPSytdbK"},{"type":"text","value":" variable.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jD2dTy6Gkk"}],"key":"Y1lfbjqdZh"}],"key":"c3duq68cDi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filtered_ds = ds.where(ds[\"flag\"] != 0)\nfiltered_ds","key":"sqqn1Ylfv2"},{"type":"outputs","id":"Co9_ThtTL_kbfZ963FQ0v","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"d855039f48d19b674622b9dbf3a3ebe2","path":"/cci-toolbox-usage-viewers/build/d855039f48d19b674622b9dbf3a3ebe2.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 654GB\nDimensions:         (time: 15767, lat: 720, lon: 1440)\nCoordinates:\n  * lat             (lat) float64 6kB 89.88 89.62 89.38 ... -89.38 -89.62 -89.88\n  * lon             (lon) float64 12kB -179.9 -179.6 -179.4 ... 179.6 179.9\n  * time            (time) datetime64[ns] 126kB 1978-11-01 ... 2021-12-31\nData variables:\n    dnflag          (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    flag            (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    freqbandID      (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    mode            (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    sensor          (time, lat, lon) float64 131GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    sm              (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    sm_uncertainty  (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    t0              (time, lat, lon) float64 131GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\nAttributes: (12/44)\n    Conventions:                  CF-1.9\n    cdm_data_type:                Grid\n    comment:                      This dataset was produced with funding of t...\n    contact:                      cci_sm_contact@eodc.eu\n    creator_email:                cci_sm_developer@eodc.eu\n    creator_name:                 Department of Geodesy and Geoinformation, V...\n    ...                           ...\n    time_coverage_end_product:    20211231T235959Z\n    time_coverage_resolution:     P1D\n    time_coverage_start:          1978-11-01 00:00:00\n    time_coverage_start_product:  19781101T000000Z\n    title:                        ESA CCI Surface Soil Moisture COMBINED acti...\n    tracking_id:                  ad35798e-58e0-488f-b5b9-593874a47700","content_type":"text/plain"}}},"children":[],"key":"J5EvsrBj4H"}],"key":"iB5Z5mwTzK"}],"key":"B0pthnta6H"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can generate a comparison plot that illustrates both the unfiltered and filtered soil moisture at a single time step as an example.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LXzVSEowjS"}],"key":"DjRAX6FwTX"}],"key":"dK8QnfrkC2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 2, figsize=(13, 4))\nds.sm.isel(time=-1).plot(ax=ax[0], vmin=0, vmax=1)\nfiltered_ds.sm.isel(time=-1).plot(ax=ax[1], vmin=0, vmax=1)","key":"bO9uaa5LIv"},{"type":"outputs","id":"Xy94Ip5xpyVciDRKIITKs","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1a374de45f99638ceb7b8adbac8012a4","path":"/cci-toolbox-usage-viewers/build/1a374de45f99638ceb7b8adbac8012a4.png"},"text/plain":{"content":"\u003cFigure size 1300x400 with 4 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"FnpNdL9v0D"}],"key":"XiFDxgU0zV"}],"key":"z4WCEFThNh"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SkQPb7c7Kg"},{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"2. Filtering based on uncertainties that accompany a dataset","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"iG8FUnLUxH"}],"identifier":"id-2-filtering-based-on-uncertainties-that-accompany-a-dataset","label":"2. Filtering based on uncertainties that accompany a dataset","html_id":"id-2-filtering-based-on-uncertainties-that-accompany-a-dataset","implicit":true,"key":"y14J3gEZVO"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We will show this filtering operation on a biomass dataset, which carries uncertainty values for the above-ground biomass data in the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"vRQWmOygZu"},{"type":"inlineCode","value":"\"abg_se\"","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kHdlR00r5D"},{"type":"text","value":" (long name ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"p7E5ynuMYb"},{"type":"inlineCode","value":"\"Above-ground biomass standard_error\"","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"liNQCabBN3"},{"type":"text","value":") data variable.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"vlv4h6Dyhw"}],"key":"I6XDKFg2xZ"}],"key":"pCYcvkBC1I"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds = store.open_data('ESACCI-BIOMASS-L4-AGB-MERGED-100m-2010-2020-fv4.0.zarr')\nds","key":"YXBrwZifsT"},{"type":"outputs","id":"MDEk6JNcQU1vNtGYXQHlN","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"279e30ce5eccbb86d377aa0a2bfee185","path":"/cci-toolbox-usage-viewers/build/279e30ce5eccbb86d377aa0a2bfee185.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 3TB\nDimensions:    (time: 5, lat: 157500, lon: 405000, nv: 2)\nCoordinates:\n  * lat        (lat) float64 1MB 80.0 80.0 80.0 80.0 ... -60.0 -60.0 -60.0 -60.0\n    lat_bnds   (lat, nv) float64 3MB dask.array\u003cchunksize=(1575, 2), meta=np.ndarray\u003e\n  * lon        (lon) float64 3MB -180.0 -180.0 -180.0 ... 180.0 180.0 180.0\n    lon_bnds   (lon, nv) float64 6MB dask.array\u003cchunksize=(2025, 2), meta=np.ndarray\u003e\n  * time       (time) datetime64[ns] 40B 2010-07-02 2017-07-02 ... 2020-07-01\n    time_bnds  (time, nv) datetime64[ns] 80B dask.array\u003cchunksize=(1, 2), meta=np.ndarray\u003e\nDimensions without coordinates: nv\nData variables:\n    agb        (time, lat, lon) float32 1TB dask.array\u003cchunksize=(1, 1575, 2025), meta=np.ndarray\u003e\n    agb_se     (time, lat, lon) float32 1TB dask.array\u003cchunksize=(1, 1575, 2025), meta=np.ndarray\u003e\nAttributes: (12/53)\n    Conventions:                  CF-1.7\n    EPSG:                         4326\n    GeoTransform:                 -180   0.00088888888888                  0 ...\n    catalogue_url:                https://catalogue.ceda.ac.uk/uuid/84403d09c...\n    cdm_data_type:                INT\n    comment:                      These data were produced at ESA CCI as part...\n    ...                           ...\n    time_coverage_duration:       P1Y\n    time_coverage_end:            20201231T000000Z\n    time_coverage_resolution:     P1Y\n    time_coverage_start:          20100101T000000Z\n    title:                        ESA CCI above-ground biomass product level ...\n    tracking_id:                  cd5cb1d2-e582-41ab-a0fc-637f050baf9e","content_type":"text/plain"}}},"children":[],"key":"WEBKUUGHtA"}],"key":"bTyvTOjtxM"}],"key":"oxRJ8pE9Ll"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Since the dataset is quite large, we have selected the Tropical Climate Zone (TCL) in Africa for analysis. This region is known for its high biological activity and consequently high values of above-ground biomass.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TcTakBriZw"}],"key":"ZJZAPABd5B"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"It’s important to note that the filtering method works efficiently on the full dataset. This is because the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IZ4kvVULsZ"},{"type":"inlineCode","value":"xarray.Dataset.where","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nYmbfgdan9"},{"type":"text","value":" operation is performed on demand, either when writing or plotting the data. However, without selecting a smaller subset like the TCL Zone, performance issues will arise during plotting.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JoLpa8kphK"}],"key":"ChCxl90W0y"}],"key":"HjKFIrxWsU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds = ds.sel(lat=slice(10, -10), lon=slice(10, 40))\nds","key":"a45wfck9mu"},{"type":"outputs","id":"NFLFBeBzBCRpngMAZNdZA","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"c0b42214ee1ae9fff2a0d5497006fbd8","path":"/cci-toolbox-usage-viewers/build/c0b42214ee1ae9fff2a0d5497006fbd8.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 30GB\nDimensions:    (time: 5, lat: 22500, lon: 33750, nv: 2)\nCoordinates:\n  * lat        (lat) float64 180kB 10.0 9.999 9.998 ... -9.998 -9.999 -10.0\n    lat_bnds   (lat, nv) float64 360kB dask.array\u003cchunksize=(1575, 2), meta=np.ndarray\u003e\n  * lon        (lon) float64 270kB 10.0 10.0 10.0 10.0 ... 40.0 40.0 40.0 40.0\n    lon_bnds   (lon, nv) float64 540kB dask.array\u003cchunksize=(900, 2), meta=np.ndarray\u003e\n  * time       (time) datetime64[ns] 40B 2010-07-02 2017-07-02 ... 2020-07-01\n    time_bnds  (time, nv) datetime64[ns] 80B dask.array\u003cchunksize=(1, 2), meta=np.ndarray\u003e\nDimensions without coordinates: nv\nData variables:\n    agb        (time, lat, lon) float32 15GB dask.array\u003cchunksize=(1, 1575, 900), meta=np.ndarray\u003e\n    agb_se     (time, lat, lon) float32 15GB dask.array\u003cchunksize=(1, 1575, 900), meta=np.ndarray\u003e\nAttributes: (12/53)\n    Conventions:                  CF-1.7\n    EPSG:                         4326\n    GeoTransform:                 -180   0.00088888888888                  0 ...\n    catalogue_url:                https://catalogue.ceda.ac.uk/uuid/84403d09c...\n    cdm_data_type:                INT\n    comment:                      These data were produced at ESA CCI as part...\n    ...                           ...\n    time_coverage_duration:       P1Y\n    time_coverage_end:            20201231T000000Z\n    time_coverage_resolution:     P1Y\n    time_coverage_start:          20100101T000000Z\n    title:                        ESA CCI above-ground biomass product level ...\n    tracking_id:                  cd5cb1d2-e582-41ab-a0fc-637f050baf9e","content_type":"text/plain"}}},"children":[],"key":"GnvKlJ5yMJ"}],"key":"ZPiwzvfCY8"}],"key":"vQnnhT1voz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Where filter the dataset for standard error smaller than 100 Mg/ha.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NwBPhGTRZx"}],"key":"y3wCoPYhf6"}],"key":"G1qmrKTvoB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filtered_ds = ds.where(ds[\"agb_se\"] \u003c= 100)\nfiltered_ds","key":"ANIOqOLqFN"},{"type":"outputs","id":"XY_KkKFa6QjZU5SpS0Kbz","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"097d236b24ce4480ae9cda5b5c79b04d","path":"/cci-toolbox-usage-viewers/build/097d236b24ce4480ae9cda5b5c79b04d.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 30GB\nDimensions:    (time: 5, lat: 22500, lon: 33750, nv: 2)\nCoordinates:\n  * lat        (lat) float64 180kB 10.0 9.999 9.998 ... -9.998 -9.999 -10.0\n    lat_bnds   (lat, nv) float64 360kB dask.array\u003cchunksize=(1575, 2), meta=np.ndarray\u003e\n  * lon        (lon) float64 270kB 10.0 10.0 10.0 10.0 ... 40.0 40.0 40.0 40.0\n    lon_bnds   (lon, nv) float64 540kB dask.array\u003cchunksize=(900, 2), meta=np.ndarray\u003e\n  * time       (time) datetime64[ns] 40B 2010-07-02 2017-07-02 ... 2020-07-01\n    time_bnds  (time, nv) datetime64[ns] 80B dask.array\u003cchunksize=(1, 2), meta=np.ndarray\u003e\nDimensions without coordinates: nv\nData variables:\n    agb        (time, lat, lon) float32 15GB dask.array\u003cchunksize=(1, 1575, 900), meta=np.ndarray\u003e\n    agb_se     (time, lat, lon) float32 15GB dask.array\u003cchunksize=(1, 1575, 900), meta=np.ndarray\u003e\nAttributes: (12/53)\n    Conventions:                  CF-1.7\n    EPSG:                         4326\n    GeoTransform:                 -180   0.00088888888888                  0 ...\n    catalogue_url:                https://catalogue.ceda.ac.uk/uuid/84403d09c...\n    cdm_data_type:                INT\n    comment:                      These data were produced at ESA CCI as part...\n    ...                           ...\n    time_coverage_duration:       P1Y\n    time_coverage_end:            20201231T000000Z\n    time_coverage_resolution:     P1Y\n    time_coverage_start:          20100101T000000Z\n    title:                        ESA CCI above-ground biomass product level ...\n    tracking_id:                  cd5cb1d2-e582-41ab-a0fc-637f050baf9e","content_type":"text/plain"}}},"children":[],"key":"iyoZscU75u"}],"key":"h00cP1jsat"}],"key":"ZYkev1Khbu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can generate a comparison plot that illustrates both the unfiltered and filtered above-ground biomass at a single time step as an example. Also here we downsample the dataset for the plotting.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aTsnISU43F"}],"key":"n6hYwJwTWT"}],"key":"wJC6oFsdgj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 2, figsize=(13, 4))\nds.agb.isel(time=-1)[::20, ::20].plot(ax=ax[0], vmin=0, vmax=500)\nfiltered_ds.agb.isel(time=-1)[::20, ::20].plot(ax=ax[1], vmin=0, vmax=500)","key":"qSaEbeaySf"},{"type":"outputs","id":"Ig-IFKUkcFzx4-bR7Cnwc","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"9e69eb027d14948f091e095e7cff4d41","path":"/cci-toolbox-usage-viewers/build/9e69eb027d14948f091e095e7cff4d41.png"},"text/plain":{"content":"\u003cFigure size 1300x400 with 4 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"lB1XP9Q7lw"}],"key":"oErwifkOW2"}],"key":"dZB8kBNY7f"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mk0HtsBb6Y"},{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"3. Filtering by any data feature","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"atE8gXol0l"}],"identifier":"id-3-filtering-by-any-data-feature","label":"3. Filtering by any data feature","html_id":"id-3-filtering-by-any-data-feature","implicit":true,"key":"ta0wj3kqqG"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We will show this filtering operation on the soil moisture dataset, which also has other data variables which can be used for filtering.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"g7Yyh23fXo"}],"key":"XmCdmDxsnM"}],"key":"YTUBHfpE7X"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds = store.open_data(\"ESACCI-SOILMOISTURE-L3S-SSMV-COMBINED-1978-2021-fv07.1.zarr\")\nds","key":"wPnDdJ6yN3"},{"type":"outputs","id":"lqDpu55oHPlWUmP7rrAGv","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"d4098cc86943030cb7befe58e12597a7","path":"/cci-toolbox-usage-viewers/build/d4098cc86943030cb7befe58e12597a7.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 654GB\nDimensions:         (time: 15767, lat: 720, lon: 1440)\nCoordinates:\n  * lat             (lat) float64 6kB 89.88 89.62 89.38 ... -89.38 -89.62 -89.88\n  * lon             (lon) float64 12kB -179.9 -179.6 -179.4 ... 179.6 179.9\n  * time            (time) datetime64[ns] 126kB 1978-11-01 ... 2021-12-31\nData variables:\n    dnflag          (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    flag            (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    freqbandID      (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    mode            (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    sensor          (time, lat, lon) float64 131GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    sm              (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    sm_uncertainty  (time, lat, lon) float32 65GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\n    t0              (time, lat, lon) float64 131GB dask.array\u003cchunksize=(16, 720, 720), meta=np.ndarray\u003e\nAttributes: (12/44)\n    Conventions:                  CF-1.9\n    cdm_data_type:                Grid\n    comment:                      This dataset was produced with funding of t...\n    contact:                      cci_sm_contact@eodc.eu\n    creator_email:                cci_sm_developer@eodc.eu\n    creator_name:                 Department of Geodesy and Geoinformation, V...\n    ...                           ...\n    time_coverage_end_product:    20211231T235959Z\n    time_coverage_resolution:     P1D\n    time_coverage_start:          1978-11-01 00:00:00\n    time_coverage_start_product:  19781101T000000Z\n    title:                        ESA CCI Surface Soil Moisture COMBINED acti...\n    tracking_id:                  ad35798e-58e0-488f-b5b9-593874a47700","content_type":"text/plain"}}},"children":[],"key":"YokFmqTiVC"}],"key":"PmgBpXdUxS"}],"key":"cJjHV4sbIh"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"For example, we can use the data variable ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JL3JtqlgWl"},{"type":"inlineCode","value":"\"mode\"","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c5TkqAnxvG"},{"type":"text","value":", which indicates whether the observation is derived from the ascending or descending orbit. This variable can be used to filter the dataset, allowing us to select only the ascending mode, represented by ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xs6tJeUfjB"},{"type":"inlineCode","value":"1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"b2luni02w7"},{"type":"text","value":", and the descending mode, represented by ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CY0PbkQs50"},{"type":"inlineCode","value":"2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ffb4nyfB5m"},{"type":"text","value":", and  as shown below:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dtaPSKarCh"}],"key":"YjVF1KXK6h"}],"key":"Uk6x15y5YQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 2, figsize=(13, 4))\nds.where(ds[\"mode\"] == 1).sm.isel(time=-1).plot(ax=ax[0], vmin=0, vmax=0.7)\nds.where(ds[\"mode\"] == 2).sm.isel(time=-1).plot(ax=ax[1], vmin=0, vmax=0.7)","key":"TfkYsXmK6a"},{"type":"outputs","id":"KsbmpZUh50pQvOszMkZR4","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"3f0974cd675706e0b0ec0d2b790bcd42","path":"/cci-toolbox-usage-viewers/build/3f0974cd675706e0b0ec0d2b790bcd42.png"},"text/plain":{"content":"\u003cFigure size 1300x400 with 4 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"Mix1iIMw8i"}],"key":"eBcYTnLS2n"}],"key":"FMIA9QoKGv"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can easliy generate the same plot for the soil moisture uncertainty data variable.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eMA11TPE4q"}],"key":"ke4eYqwobt"}],"key":"uSGL32vbgI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 2, figsize=(13, 4))\nds.where(ds[\"mode\"] == 1).sm_uncertainty.isel(time=-1).plot(ax=ax[0], vmin=0, vmax=0.07)\nds.where(ds[\"mode\"] == 2).sm_uncertainty.isel(time=-1).plot(ax=ax[1], vmin=0, vmax=0.07)","key":"xFDanBTC66"},{"type":"outputs","id":"6VdroFq1liqzuP7l-efcG","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"fd7d7d8ffe688e890bebf1383726b0a4","path":"/cci-toolbox-usage-viewers/build/fd7d7d8ffe688e890bebf1383726b0a4.png"},"text/plain":{"content":"\u003cFigure size 1300x400 with 4 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"G5ISLfl8Hx"}],"key":"VFyPrMD4Wn"}],"key":"OURDA7pqQH"}],"key":"iQeMsG8PdS"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"ESA CCI Toolbox Reproject Dataset","url":"/external-notebooks/esa-cci/esa-climate-toolbox/notebooks/using-operations/ect-reprojecting-data","group":"Using Operations"},"next":{"title":"Gap Filling","url":"/external-notebooks/esa-cci/esa-climate-toolbox/notebooks/using-operations/ect-gap-filling","group":"Using Operations"}}},"domain":"http://localhost:3000"},"project":{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Esa Climate Toolbox","level":3},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.changes","title":"Changes in 1.5.2 (in development)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.readme","title":"ESA CCI Toolbox","description":"","date":"","thumbnail":"/cci-toolbox-usage-viewers/build/4953b7866e112b647ec659c6cb9b528a.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Docs","level":4},{"title":"Source","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-finding-data","title":"ESA CCI Toolbox Finding Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-general-data-access","title":"ESA CCI Toolbox Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-data-access-with-subsets","title":"ESA CCI Toolbox Data Access with Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-vector-data","title":"ESA CCI Toolbox Vector Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-zarr-access","title":"Access to Zarr Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-kerchunk-access","title":"Access to Data in NetCDF format viewed as Zarr","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-vector-data-cubes","title":"ESA CCI Toolbox Vector Data Cube Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-reading-wcs-data","title":"Access to WCS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-reading-wms-data","title":"Access to WMS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-esgf","title":"Accessing Obs4MIPs and CMIP Data via ESGF","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.accessing-data.ect-access-data-trees","title":"ESA CCI Toolbox Data Tree Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.advanced-functionality.ect-using-xcube-viewer","title":"Using the ESA CCI Toolbox with the xcube Viewer","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.advanced-functionality.ect-failure-reporting","title":"Failure reporting in the ESA Climate Toolbox","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.advanced-functionality.ect-performance","title":"Performance tests","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-finding-operations","title":"Finding Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-using-operations","title":"Usage of Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-reprojecting-data","title":"ESA CCI Toolbox Reproject Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-filtering-data","title":"Filter Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.docs.source.notebooks.using-operations.ect-gap-filling","title":"Gap Filling","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Esa Climate Toolbox","level":4},{"title":"Functions","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.esa-climate-toolbox.functions.country-data.readme","title":"README","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Notebooks","level":4},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.readme","title":"ESA CCI Toolbox Notebooks Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Accessing Data","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-finding-data","title":"ESA CCI Toolbox Finding Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-general-data-access","title":"ESA CCI Toolbox Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-data-access-with-subsets","title":"ESA CCI Toolbox Data Access with Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-vector-data","title":"ESA CCI Toolbox Vector Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-zarr-access","title":"Access to Zarr Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-kerchunk-access","title":"Access to Data in NetCDF format viewed as Zarr","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-vector-data-cubes","title":"ESA CCI Toolbox Vector Data Cube Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-reading-wcs-data","title":"Access to WCS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-reading-wms-data","title":"Access to WMS data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-esgf","title":"Accessing Obs4MIPs and CMIP Data via ESGF","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.accessing-data.ect-access-data-trees","title":"ESA CCI Toolbox Data Tree Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Advanced Functionality","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.advanced-functionality.ect-using-xcube-viewer","title":"Using the ESA CCI Toolbox with the xcube Viewer","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.advanced-functionality.ect-failure-reporting","title":"Failure reporting in the ESA Climate Toolbox","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.advanced-functionality.ect-performance","title":"Performance tests","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"User Examples","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.user-examples.cci-seaice-animation","title":"Access and Plot Northern Hemisphere Sea Ice from Zarr Data Storage","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.user-examples.readme","title":"External User Created Examples","description":"","date":"","thumbnail":"/cci-toolbox-usage-viewers/build/f25d28dd3a739df753ed621df553d611.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Using Operations","level":5},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-finding-operations","title":"Finding Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-using-operations","title":"Usage of Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-reprojecting-data","title":"ESA CCI Toolbox Reproject Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-filtering-data","title":"Filter Operations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.esa-climate-toolbox.notebooks.using-operations.ect-gap-filling","title":"Gap Filling","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/cci-toolbox-usage-viewers/build/manifest-86A905A4.js";
import * as route0 from "/cci-toolbox-usage-viewers/build/root-CXYA7X5D.js";
import * as route1 from "/cci-toolbox-usage-viewers/build/routes/$-JRBPULBO.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/cci-toolbox-usage-viewers/build/entry.client-PCJPW7TK.js");</script></body></html>